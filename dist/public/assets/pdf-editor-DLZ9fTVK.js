import{d as ne,r,j as e,e as q,p as Ee,q as Oe,C as p,n as u,o as x,x as D,b as h,B as o}from"./index-BgHKv6SK.js";import{I as L}from"./input-LwD3et3d.js";import{L as T}from"./label-fQtr4aX9.js";import{T as Ue}from"./textarea-C2vNzyBp.js";import{S as Y,a as ee,b as se,c as te,d as F}from"./select-Beh4_enV.js";import{T as Le,a as Te,b as C,c as k}from"./tabs-BTWYtHIm.js";import{P as $e}from"./progress-DkhuoLXE.js";import{F as ce}from"./file-text-X8ctfHd7.js";import{U as ae}from"./upload-D3hs8q0t.js";import{E as Ae}from"./eye-CUFKIzNv.js";import{R as re}from"./rotate-cw-BwdkYTck.js";import{A as Ie}from"./archive-DGlHSXVC.js";import{T as B}from"./type-B71xpZTr.js";import{I as le}from"./image-BMjc38YG.js";import{S as Me}from"./settings-ghcUQDF8.js";import{T as Ve}from"./trash-2-l0e-SVjE.js";import{L as ie}from"./lock-CZO_6iVM.js";import{L as de}from"./lock-open-U-KUwxu7.js";import{D as Be}from"./download-B3GC8M1m.js";import{Z as ze}from"./zap-RS8pt1ff.js";import"./index-BdQq_4o_.js";import"./index-CKStNhgD.js";import"./index-BiO8YoV6.js";import"./index-CqNTIAH4.js";import"./check-C5Ohm7D7.js";import"./index-BfKHz98L.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=ne("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ne("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),Je=Ee("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oe=r.forwardRef(({className:a,variant:f,...n},j)=>e.jsx("div",{ref:j,role:"alert",className:q(Je({variant:f}),a),...n}));oe.displayName="Alert";const Ge=r.forwardRef(({className:a,...f},n)=>e.jsx("h5",{ref:n,className:q("mb-1 font-medium leading-none tracking-tight",a),...f}));Ge.displayName="AlertTitle";const me=r.forwardRef(({className:a,...f},n)=>e.jsx("div",{ref:n,className:q("text-sm [&_p]:leading-relaxed",a),...f}));me.displayName="AlertDescription";function He({file:a,onPageChange:f,selectedPages:n=[],onPageSelect:j,multiSelect:g=!1}){const[S,$]=r.useState(null),[R,c]=r.useState(null);r.useEffect(()=>{if(a){if(!a.type.includes("pdf")){c("Invalid file type. Please select a PDF file.");return}const E=URL.createObjectURL(a);return $(E),c(null),()=>{E&&URL.revokeObjectURL(E)}}else $(null),c(null)},[a]);const N=()=>{j&&j(1)};return a?R?e.jsx("div",{className:"flex items-center justify-center h-96 border border-red-300 rounded-lg bg-red-50",children:e.jsxs("div",{className:"text-center text-red-600",children:[e.jsx("p",{className:"font-medium",children:"Error loading PDF"}),e.jsx("p",{className:"text-sm mt-1",children:R})]})}):e.jsxs("div",{className:"w-full","data-testid":"pdf-viewer",children:[e.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"p-4 bg-gray-100 border-b",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(a.size/1024/1024).toFixed(2)," MB)"]})]})}),S?e.jsx("iframe",{src:S,className:"w-full h-96",title:"PDF Viewer",style:{border:"none"},onClick:N}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading PDF..."})]})})]}),a&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"PDF file ready:"})," ",a.name," has been uploaded successfully and is ready for processing.",j&&" Click on the PDF to select it for operations."]})})]}):e.jsx("div",{className:"flex items-center justify-center h-96 border-2 border-dashed border-gray-300 rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"Upload a PDF file to view"})})}function bs(){const[a,f]=r.useState(null),[n,j]=r.useState(null),[g,S]=r.useState(!1),[$,R]=r.useState(0),[c,N]=r.useState([]),[E,P]=r.useState("upload"),[J,G]=r.useState([]),[H,Z]=r.useState([]),{toast:d}=Oe(),[w,A]=r.useState(""),[I,K]=r.useState(""),[W,pe]=r.useState("90");r.useState("screen");const[O,ue]=r.useState("png"),[Ze,xe]=r.useState(""),[Ke,he]=r.useState(""),[fe,M]=r.useState(!1),[ge,V]=r.useState(!1),je=s=>{const t=s.target.files;t&&t.length>0&&(f(t[0]),N([]),P("viewer"))},ve=s=>{const t=s.target.files;t&&t.length>0&&j(t)},_=(s,t=!1)=>{s.preventDefault(),M(!1),V(!1);const m=s.dataTransfer.files;if(m&&m.length>0){const l=Array.from(m).filter(i=>i.type==="application/pdf");if(l.length===0){d({title:"Invalid File Type",description:"Please select PDF files only.",variant:"destructive"});return}if(t){const i=new DataTransfer;l.forEach(v=>i.items.add(v)),j(i.files)}else f(l[0]),N([]),P("viewer")}},Q=(s,t=!1)=>{s.preventDefault(),t?V(!0):M(!0)},X=(s,t=!1)=>{s.preventDefault(),t?V(!1):M(!1)},we=r.useCallback(s=>{N(t=>t.includes(s)?t.filter(m=>m!==s):[...t,s])},[]),b=async(s,t,m)=>{S(!0),R(0);try{const l=await fetch(`/api/${s}`,{method:"POST",body:t});if(!l.ok){const v=await l.json();throw new Error(v.error||"Operation failed")}const i=l.headers.get("content-type");if(i!=null&&i.includes("application/pdf")){const v=await l.blob(),y=window.URL.createObjectURL(v),U=document.createElement("a");U.href=y,U.download=m||`processed-${Date.now()}.pdf`,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(y),d({title:"Success",description:"PDF processed and downloaded successfully."})}else return await l.json()}catch(l){throw console.error("Processing error:",l),d({title:"Error",description:l instanceof Error?l.message:"An error occurred during processing.",variant:"destructive"}),l}finally{S(!1),R(100)}},be=async()=>{if(!a||!w){d({title:"Error",description:"Please select a file and enter a password.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),s.append("userPassword",w),I&&s.append("ownerPassword",I),s.append("allowPrinting","false"),s.append("allowModifying","false"),s.append("allowCopying","false"),s.append("keyLength","256"),await b("encrypt-pdf",s,`encrypted-${a.name}`)},ye=async()=>{if(!a||!w){d({title:"Error",description:"Please select a file and enter the password.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),s.append("password",w),await b("unlock-pdf",s,`unlocked-${a.name}`)},Ne=async()=>{if(!n||n.length<2){d({title:"Error",description:"Please select at least 2 PDF files to merge.",variant:"destructive"});return}const s=new FormData;Array.from(n).forEach(t=>{s.append("pdfs",t)}),await b("merge-pdf",s,"merged-document.pdf")},De=async()=>{if(!a){d({title:"Error",description:"Please select a PDF file.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),c.length>0&&s.append("splitPages",JSON.stringify(c.map(t=>t-1)));try{const t=await b("split-pdf",s);t!=null&&t.files&&(t.files.forEach((m,l)=>{const i=new Blob([Buffer.from(m.data,"base64")],{type:"application/pdf"}),v=window.URL.createObjectURL(i),y=document.createElement("a");y.href=v,y.download=m.filename,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(v)}),d({title:"Success",description:`PDF split into ${t.files.length} files and downloaded.`}))}catch{}},Pe=async()=>{if(!a){d({title:"Error",description:"Please select a PDF file.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),s.append("rotation",W),c.length>0&&s.append("pageIndices",JSON.stringify(c.map(t=>t-1))),await b("rotate-pdf",s,`rotated-${a.name}`)},Fe=async()=>{if(!a){d({title:"Error",description:"Please select a PDF file.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),await b("compress-pdf",s,`compressed-${a.name}`)},Ce=async()=>{if(!a){d({title:"Error",description:"Please select a PDF file.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a);try{const t=await b("ocr-pdf",s);t!=null&&t.pages&&(G(t.pages),P("ocr-results"),d({title:"Success",description:`Text extracted from ${t.pages.length} pages.`}))}catch{}},ke=async()=>{if(!a){d({title:"Error",description:"Please select a PDF file.",variant:"destructive"});return}const s=new FormData;s.append("pdf",a),s.append("format",O),s.append("quality","150");try{const t=await b("pdf-to-images",s);t!=null&&t.images&&(Z(t.images),P("image-results"),d({title:"Success",description:`PDF converted to ${t.images.length} ${O.toUpperCase()} images.`}))}catch{}},Se=(s,t)=>{const m=new Blob([Buffer.from(s,"base64")],{type:`image/${O}`}),l=window.URL.createObjectURL(m),i=document.createElement("a");i.href=l,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)},Re=()=>{f(null),j(null),N([]),A(""),K(""),xe(""),he(""),G([]),Z([]),P("upload")};return e.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-7xl","data-testid":"pdf-editor-page",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"PDF Editor"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Comprehensive PDF editing tools - merge, split, rotate, compress, add passwords, extract text with OCR, and convert to images"})]}),e.jsxs(Le,{value:E,onValueChange:P,className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-6",children:[e.jsx(C,{value:"upload","data-testid":"tab-upload",children:"Upload"}),e.jsx(C,{value:"viewer","data-testid":"tab-viewer",children:"Viewer"}),e.jsx(C,{value:"operations","data-testid":"tab-operations",children:"Operations"}),e.jsx(C,{value:"security","data-testid":"tab-security",children:"Security"}),e.jsx(C,{value:"ocr-results","data-testid":"tab-ocr-results",children:"OCR Results"}),e.jsx(C,{value:"image-results","data-testid":"tab-image-results",children:"Images"})]}),e.jsx(k,{value:"upload",className:"mt-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(p,{"data-testid":"card-single-upload",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Single PDF Upload"]}),e.jsx(D,{children:"Upload a single PDF for editing, viewing, or processing"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${fe?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var s;return(s=document.getElementById("single-pdf-upload"))==null?void 0:s.click()},onDrop:s=>_(s,!1),onDragOver:s=>Q(s,!1),onDragLeave:s=>X(s,!1),children:[e.jsx(ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag and drop PDF file here"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"or click to select a file from your computer"}),e.jsx(o,{variant:"outline",className:"mb-2","data-testid":"button-choose-file",children:"Choose PDF File"}),e.jsx(L,{type:"file",accept:".pdf,application/pdf",onChange:je,className:"hidden",id:"single-pdf-upload","data-testid":"input-single-pdf"}),a&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2","data-testid":"text-selected-file",children:["Selected: ",a.name]})]})})})]}),e.jsxs(p,{"data-testid":"card-multi-upload",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Multiple PDFs Upload"]}),e.jsx(D,{children:"Upload multiple PDFs for merging operations"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${ge?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var s;return(s=document.getElementById("multi-pdf-upload"))==null?void 0:s.click()},onDrop:s=>_(s,!0),onDragOver:s=>Q(s,!0),onDragLeave:s=>X(s,!0),children:[e.jsx(ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag and drop PDF files here"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"or click to select multiple files from your computer"}),e.jsx(o,{variant:"outline",className:"mb-2","data-testid":"button-choose-files",children:"Choose Multiple PDFs"}),e.jsx(L,{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:ve,className:"hidden",id:"multi-pdf-upload","data-testid":"input-multi-pdf"}),n&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600","data-testid":"text-selected-files",children:[e.jsxs("p",{children:[n.length," files selected:"]}),e.jsx("ul",{className:"text-left mt-1 max-h-32 overflow-y-auto",children:Array.from(n).map((s,t)=>e.jsxs("li",{className:"truncate",children:["• ",s.name]},t))})]})]})})})]})]})}),e.jsx(k,{value:"viewer",className:"mt-6",children:e.jsxs(p,{"data-testid":"card-pdf-viewer",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"PDF Viewer"]}),e.jsx(D,{children:"View your PDF and select pages for operations. Click on pages to select/deselect them."})]}),e.jsxs(h,{children:[e.jsx(He,{file:a,selectedPages:c,onPageSelect:we,multiSelect:!0}),c.length>0&&e.jsx(oe,{className:"mt-4",children:e.jsxs(me,{children:["Selected pages: ",c.sort((s,t)=>s-t).join(", "),e.jsx(o,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>N([]),"data-testid":"button-clear-selection",children:"Clear Selection"})]})})]})]})}),e.jsx(k,{value:"operations",className:"mt-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(p,{"data-testid":"card-merge-split",children:[e.jsx(u,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Merge & Split"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs(o,{onClick:Ne,disabled:g,className:"w-full","data-testid":"button-merge-pdfs",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Merge PDFs"]}),e.jsxs(o,{onClick:De,disabled:g||!a,variant:"outline",className:"w-full","data-testid":"button-split-pdf",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Split PDF ",c.length>0&&`(${c.length} pages)`]})]})]}),e.jsxs(p,{"data-testid":"card-rotate-compress",children:[e.jsx(u,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Rotate & Compress"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"rotation",children:"Rotation Angle"}),e.jsxs(Y,{value:W,onValueChange:pe,children:[e.jsx(ee,{"data-testid":"select-rotation",children:e.jsx(se,{})}),e.jsxs(te,{children:[e.jsx(F,{value:"90",children:"90°"}),e.jsx(F,{value:"180",children:"180°"}),e.jsx(F,{value:"270",children:"270°"})]})]})]}),e.jsxs(o,{onClick:Pe,disabled:g||!a,variant:"outline",className:"w-full","data-testid":"button-rotate-pdf",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Rotate PDF"]}),e.jsxs(o,{onClick:Fe,disabled:g||!a,variant:"outline",className:"w-full","data-testid":"button-compress-pdf",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Compress PDF"]})]})]}),e.jsxs(p,{"data-testid":"card-ocr-convert",children:[e.jsx(u,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"OCR & Convert"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs(o,{onClick:Ce,disabled:g||!a,variant:"outline",className:"w-full","data-testid":"button-extract-text",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Extract Text (OCR)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{children:"Image Format"}),e.jsxs(Y,{value:O,onValueChange:ue,children:[e.jsx(ee,{"data-testid":"select-image-format",children:e.jsx(se,{})}),e.jsxs(te,{children:[e.jsx(F,{value:"png",children:"PNG"}),e.jsx(F,{value:"jpg",children:"JPEG"}),e.jsx(F,{value:"webp",children:"WebP"})]})]})]}),e.jsxs(o,{onClick:ke,disabled:g||!a,variant:"outline",className:"w-full","data-testid":"button-convert-images",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Convert to Images"]})]})]}),e.jsxs(p,{"data-testid":"card-utilities",children:[e.jsx(u,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-5 w-5"}),"Utilities"]})}),e.jsx(h,{className:"space-y-4",children:e.jsxs(o,{onClick:Re,variant:"destructive",className:"w-full","data-testid":"button-reset-all",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Reset All"]})})]})]})}),e.jsx(k,{value:"security",className:"mt-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(p,{"data-testid":"card-encrypt",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"Encrypt PDF"]}),e.jsx(D,{children:"Add password protection to your PDF"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"user-password",children:"User Password *"}),e.jsx(L,{id:"user-password",type:"password",value:w,onChange:s=>A(s.target.value),placeholder:"Enter password (min 4 characters)","data-testid":"input-password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"owner-password",children:"Owner Password (Optional)"}),e.jsx(L,{id:"owner-password",type:"password",value:I,onChange:s=>K(s.target.value),placeholder:"Enter owner password","data-testid":"input-owner-password"})]}),e.jsxs(o,{onClick:be,disabled:g||!a||!w,className:"w-full","data-testid":"button-encrypt-pdf",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Encrypt PDF"]})]})]}),e.jsxs(p,{"data-testid":"card-decrypt",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),"Unlock PDF"]}),e.jsx(D,{children:"Remove password protection from your PDF"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"unlock-password",children:"PDF Password"}),e.jsx(L,{id:"unlock-password",type:"password",value:w,onChange:s=>A(s.target.value),placeholder:"Enter PDF password","data-testid":"input-unlock-password"})]}),e.jsxs(o,{onClick:ye,disabled:g||!a||!w,variant:"outline",className:"w-full","data-testid":"button-unlock-pdf",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Unlock PDF"]})]})]})]})}),e.jsx(k,{value:"ocr-results",className:"mt-6",children:e.jsxs(p,{"data-testid":"card-ocr-results",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"OCR Results"]}),e.jsx(D,{children:"Extracted text from your PDF pages"})]}),e.jsx(h,{children:J.length>0?e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:J.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-4","data-testid":`ocr-result-${t}`,children:[e.jsxs("h3",{className:"font-medium mb-2",children:["Page ",s.page]}),e.jsx(Ue,{value:s.text,readOnly:!0,className:"min-h-[100px] resize-none","data-testid":`textarea-ocr-${t}`})]},t))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No OCR results yet. Use the Extract Text (OCR) function first."})})]})}),e.jsx(k,{value:"image-results",className:"mt-6",children:e.jsxs(p,{"data-testid":"card-image-results",children:[e.jsxs(u,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Converted Images"]}),e.jsx(D,{children:"PDF pages converted to images"})]}),e.jsx(h,{children:H.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-4 text-center","data-testid":`image-result-${t}`,children:[e.jsxs("h3",{className:"font-medium mb-2",children:["Page ",s.page]}),e.jsx("img",{src:`data:image/${O};base64,${s.data}`,alt:`Page ${s.page}`,className:"w-full max-w-[200px] mx-auto mb-2 border","data-testid":`img-page-${t}`}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Size: ",Math.round(s.size/1024),"KB"]}),e.jsxs(o,{size:"sm",onClick:()=>Se(s.data,s.filename),"data-testid":`button-download-${t}`,children:[e.jsx(Be,{className:"h-3 w-3 mr-1"}),"Download"]})]},t))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No images yet. Use the Convert to Images function first."})})]})})]}),g&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 w-80","data-testid":"processing-indicator",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ze,{className:"h-5 w-5 text-blue-600 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:"Processing..."}),e.jsx($e,{value:$,className:"mt-1"})]})]})})]})}export{bs as default};
