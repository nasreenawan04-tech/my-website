import{_ as T,r as b,j as t,H as k,a as L,C as P,b as M,B as E,F as Q}from"./index-BIuBJs4m.js";import{L as C}from"./label-D5P1eZ74.js";import{S as O}from"./switch-BY8JZJEG.js";import"./index-8IOwaEk6.js";class o{constructor(e,a,s,i,n){this._legacyCanvasSize=o.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),s&&typeof s=="object"?this._onDecode=a:(console.warn(s||i||n?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=a),a=typeof s=="object"?s:{},this._onDecodeError=a.onDecodeError||(typeof s=="function"?s:this._onDecodeError),this._calculateScanRegion=a.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=a.preferredCamera||n||this._preferredCamera,this._legacyCanvasSize=typeof s=="number"?s:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=a.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let l=!1;if(e.hidden&&(e.hidden=!1,l=!0),document.body.contains(e)||(document.body.appendChild(e),l=!0),s=e.parentElement,a.highlightScanRegion||a.highlightCodeOutline){if(i=!!a.overlay,this.$overlay=a.overlay||document.createElement("div"),n=this.$overlay.style,n.position="absolute",n.display="none",n.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&a.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}s.insertBefore(this.$overlay,this.$video.nextSibling)}a.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let h=window.getComputedStyle(e);h.display==="none"&&(e.style.setProperty("display","block","important"),l=!0),h.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),l=!0),l&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=o.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await o.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let a=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),s;try{e&&(await a()).every(i=>!i.label)&&(s=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await a()).map((i,n)=>({id:i.deviceId,label:i.label||(n===0?"Default Camera":`Camera ${n+1}`)}))}finally{s&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),o._stopVideoStream(s))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),o._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),o._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:a}=await this._getCameraStream();!this._active||this._paused?o._stopVideoStream(e):(this._setVideoMirror(a),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let a=()=>{this.$video.srcObject instanceof MediaStream&&(o._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(a(),!0):(await new Promise(s=>setTimeout(s,300)),this._paused?(a(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,a,s,i,n=!1,l=!1){let h,u=!1;a&&("scanRegion"in a||"qrEngine"in a||"canvas"in a||"disallowCanvasResizing"in a||"alsoTryWithoutScanRegion"in a||"returnDetailedScanResult"in a)?(h=a.scanRegion,s=a.qrEngine,i=a.canvas,n=a.disallowCanvasResizing||!1,l=a.alsoTryWithoutScanRegion||!1,u=!0):console.warn(a||s||i||n||l?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),a=!!s;try{let m,p;[s,m]=await Promise.all([s||o.createQrEngine(),o._loadImage(e)]),[i,p]=o._drawToCanvas(m,h,i,n);let v;if(s instanceof Worker){let c=s;a||o._postWorkerMessageSync(c,"inversionMode","both"),v=await new Promise((g,j)=>{let N,_,f,r=-1;_=x=>{x.data.id===r&&(c.removeEventListener("message",_),c.removeEventListener("error",f),clearTimeout(N),x.data.data!==null?g({data:x.data.data,cornerPoints:o._convertPoints(x.data.cornerPoints,h)}):j(o.NO_QR_CODE_FOUND))},f=x=>{c.removeEventListener("message",_),c.removeEventListener("error",f),clearTimeout(N),j("Scanner error: "+(x?x.message||x:"Unknown Error"))},c.addEventListener("message",_),c.addEventListener("error",f),N=setTimeout(()=>f("timeout"),1e4);let d=p.getImageData(0,0,i.width,i.height);r=o._postWorkerMessageSync(c,"decode",d,[d.data.buffer])})}else v=await Promise.race([new Promise((c,g)=>window.setTimeout(()=>g("Scanner error: timeout"),1e4)),(async()=>{try{var[c]=await s.detect(i);if(!c)throw o.NO_QR_CODE_FOUND;return{data:c.rawValue,cornerPoints:o._convertPoints(c.cornerPoints,h)}}catch(g){if(c=g.message||g,/not implemented|service unavailable/.test(c))return o._disableBarcodeDetector=!0,o.scanImage(e,{scanRegion:h,canvas:i,disallowCanvasResizing:n,alsoTryWithoutScanRegion:l});throw`Scanner error: ${c}`}})()]);return u?v:v.data}catch(m){if(!h||!l)throw m;let p=await o.scanImage(e,{qrEngine:s,canvas:i,disallowCanvasResizing:n});return u?p:p.data}finally{a||o._postWorkerMessage(s,"close")}}setGrayscaleWeights(e,a,s,i=!0){o._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:a,blue:s,useIntegerApproximation:i})}setInversionMode(e){o._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>T(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(s=>s.createWorker()),!(!o._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let a=navigator.userAgentData;return a&&a.brands.some(({brand:s})=>/Chromium/i.test(s))&&/mac ?OS/i.test(a.platform)&&await a.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:s,platformVersion:i})=>/arm/i.test(s||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let a=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-a)/2),y:Math.round((e.videoHeight-a)/2),width:a,height:a,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,a=e.videoWidth,s=e.videoHeight,i=e.offsetWidth,n=e.offsetHeight,l=e.offsetLeft,h=e.offsetTop,u=window.getComputedStyle(e),m=u.objectFit,p=a/s,v=i/n;switch(m){case"none":var c=a,g=s;break;case"fill":c=i,g=n;break;default:(m==="cover"?p>v:p<v)?(g=n,c=g*p):(c=i,g=c/p),m==="scale-down"&&(c=Math.min(c,a),g=Math.min(g,s))}var[j,N]=u.objectPosition.split(" ").map((f,r)=>{const d=parseFloat(f);return f.endsWith("%")?(r?n-g:i-c)*d/100:d});u=this._scanRegion.width||a,v=this._scanRegion.height||s,m=this._scanRegion.x||0;var _=this._scanRegion.y||0;p=this.$overlay.style,p.width=`${u/a*c}px`,p.height=`${v/s*g}px`,p.top=`${h+N+_/s*g}px`,s=/scaleX\(-1\)/.test(e.style.transform),p.left=`${l+(s?i-j-c:j)+(s?a-m-u:m)/a*c}px`,p.transform=e.style.transform}})}static _convertPoints(e,a){if(!a)return e;let s=a.x||0,i=a.y||0,n=a.width&&a.downScaledWidth?a.width/a.downScaledWidth:1;a=a.height&&a.downScaledHeight?a.height/a.downScaledHeight:1;for(let l of e)l.x=l.x*n+s,l.y=l.y*a+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,a=1e3/this._maxScansPerSecond;e<a&&await new Promise(i=>setTimeout(i,a-e)),this._lastScanTimestamp=Date.now();try{var s=await o.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!o._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=o.createQrEngine()),s?(this._onDecode?this._onDecode(s):this._legacyOnDecode&&this._legacyOnDecode(s.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",s.cornerPoints.map(({x:i,y:n})=>`${i},${n}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==o.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",a=[{width:{min:1024}},{width:{min:768}},{}],s=a.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...s,...a])try{let n=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),l=this._getFacingMode(n)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:n,facingMode:l}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let a of e.getTracks())a.stop(),e.removeTrack(a)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,a,s,i=!1){s=s||document.createElement("canvas");let n=a&&a.x?a.x:0,l=a&&a.y?a.y:0,h=a&&a.width?a.width:e.videoWidth||e.width,u=a&&a.height?a.height:e.videoHeight||e.height;return i||(i=a&&a.downScaledWidth?a.downScaledWidth:h,a=a&&a.downScaledHeight?a.downScaledHeight:u,s.width!==i&&(s.width=i),s.height!==a&&(s.height=a)),a=s.getContext("2d",{alpha:!1}),a.imageSmoothingEnabled=!1,a.drawImage(e,n,l,h,u,0,0,s.width,s.height),[s,a]}static async _loadImage(e){if(e instanceof Image)return await o._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let a=new Image;a.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await o._awaitImageLoad(a),a}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(a.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((a,s)=>{let i=n=>{e.removeEventListener("load",i),e.removeEventListener("error",i),n instanceof ErrorEvent?s("Image load error"):a()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,a,s,i){return o._postWorkerMessageSync(await e,a,s,i)}static _postWorkerMessageSync(e,a,s,i){if(!(e instanceof Worker))return-1;let n=o._workerMessageId++;return e.postMessage({id:n,type:a,data:s},i),n}}o.DEFAULT_CANVAS_SIZE=400;o.NO_QR_CODE_FOUND="No QR code found";o._disableBarcodeDetector=!1;o._workerMessageId=0;const V=()=>{const[R,e]=b.useState([]),[a,s]=b.useState(!1),[i,n]=b.useState(null),[l,h]=b.useState(""),u=b.useRef(null),[m,p]=b.useState({extractUrls:!0,extractEmails:!0,formatText:!0,removeEmptyLines:!0}),v=r=>{if(!r.trim())return[];let d=r;const x=[];if(m.removeEmptyLines&&(d=d.split(`
`).filter(y=>y.trim()!=="").join(`
`)),m.formatText&&(d=d.replace(/\s+/g," ").trim()),m.extractUrls){const y=/(https?:\/\/[^\s]+|www\.[^\s]+|[^\s]+\.[a-z]{2,}(?:\/[^\s]*)?)/gi,w=d.match(y);w&&w.forEach(S=>{const $=S.startsWith("http")?S:`https://${S}`;x.push($)})}if(m.extractEmails){const y=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,w=d.match(y);w&&x.push(...w)}return x.length===0&&x.push(d),x.filter((y,w,S)=>S.indexOf(y)===w)},c=(r,d)=>{p(x=>({...x,[r]:d}))},g=r=>{navigator.clipboard.writeText(r)},j=async r=>{var x;const d=(x=r.target.files)==null?void 0:x[0];if(d){n(d),s(!0),h("");try{const y=await o.scanImage(d);if(y){h(y);const w=v(y),S={scannedText:y,extractedContent:w.length>0?w:[y],originalImageUrl:URL.createObjectURL(d),timestamp:new Date};e($=>[S,...$.filter(D=>D.scannedText!==y)].slice(0,10))}}catch(y){console.error("Error scanning QR code:",y),h("Could not scan QR code. Please make sure the image contains a valid QR code.")}finally{s(!1)}}},N=r=>{r.preventDefault()},_=async r=>{r.preventDefault();const d=r.dataTransfer.files[0];d&&d.type.startsWith("image/")&&await j({target:{files:[d]}})},f=()=>{n(null),h(""),u.current&&(u.current.value="")};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs(k,{children:[t.jsx("title",{children:"QR Code Scanner - Scan QR Codes to Extract Text | DapsiWow"}),t.jsx("meta",{name:"description",content:"Scan QR codes from images to extract text content, URLs, and email addresses. Upload image files and get instant text extraction."}),t.jsx("meta",{name:"keywords",content:"QR scanner, QR code reader, scan QR code, extract text from QR, QR to text"}),t.jsx("meta",{property:"og:title",content:"QR Code Scanner - Scan QR Codes to Extract Text"}),t.jsx("meta",{property:"og:description",content:"Scan QR codes from images to extract and process text content with smart parsing capabilities."}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("link",{rel:"canonical",href:"/tools/qr-code-scanner"})]}),t.jsx(L,{}),t.jsxs("main",{children:[t.jsx("section",{className:"gradient-hero text-white py-16 pt-24",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"fas fa-camera text-3xl"})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6","data-testid":"text-page-title",children:"QR Code Scanner"}),t.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Scan QR codes from images to extract text content, URLs, and emails"})]})}),t.jsx("section",{className:"py-16",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx(P,{className:"bg-white shadow-sm border-0",children:t.jsx(M,{className:"p-8",children:t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Upload QR Code Image"}),t.jsxs("div",{className:"mb-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Text Processing Options"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(C,{className:"text-sm font-medium",children:"Extract URLs"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Automatically find and extract website URLs"})]}),t.jsx(O,{checked:m.extractUrls,onCheckedChange:r=>c("extractUrls",r),"data-testid":"switch-extract-urls"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(C,{className:"text-sm font-medium",children:"Extract Emails"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Automatically find and extract email addresses"})]}),t.jsx(O,{checked:m.extractEmails,onCheckedChange:r=>c("extractEmails",r),"data-testid":"switch-extract-emails"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(C,{className:"text-sm font-medium",children:"Format Text"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Clean up spacing and formatting"})]}),t.jsx(O,{checked:m.formatText,onCheckedChange:r=>c("formatText",r),"data-testid":"switch-format-text"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(C,{className:"text-sm font-medium",children:"Remove Empty Lines"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Clean up empty lines from text"})]}),t.jsx(O,{checked:m.removeEmptyLines,onCheckedChange:r=>c("removeEmptyLines",r),"data-testid":"switch-remove-empty-lines"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(C,{className:"text-sm font-medium text-gray-700",children:"QR Code Image"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",onDragOver:N,onDrop:_,"data-testid":"qr-upload-area",children:[i?t.jsxs("div",{className:"space-y-4",children:[t.jsx("img",{src:URL.createObjectURL(i),alt:"Uploaded QR Code",className:"max-w-xs max-h-64 mx-auto rounded-lg border border-gray-200","data-testid":"uploaded-qr-image"}),t.jsx("div",{className:"text-sm text-gray-600",children:i.name})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("i",{className:"fas fa-cloud-upload-alt text-4xl text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Drop your QR code image here or click to browse"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Supports JPG, PNG, GIF, WebP formats"})]})]}),t.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:j,className:"hidden","data-testid":"file-input"}),t.jsx(E,{onClick:()=>{var r;return(r=u.current)==null?void 0:r.click()},variant:"outline",className:"mt-4",disabled:a,"data-testid":"button-browse-files",children:a?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Scanning..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-folder-open mr-2"}),"Browse Files"]})})]}),i&&t.jsx("div",{className:"flex gap-4",children:t.jsxs(E,{onClick:f,variant:"outline",className:"flex-1","data-testid":"button-clear-upload",children:[t.jsx("i",{className:"fas fa-trash mr-2"}),"Clear"]})})]}),l&&t.jsxs("div",{className:"space-y-6 mt-8","data-testid":"scanned-results",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Scanned QR Code Content"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(C,{className:"text-sm font-medium text-gray-700",children:"Extracted Text"}),t.jsxs(E,{onClick:()=>g(l),variant:"ghost",size:"sm","data-testid":"button-copy-scanned-text",children:[t.jsx("i",{className:"fas fa-copy mr-1"}),"Copy"]})]}),t.jsx("div",{className:"bg-white p-3 rounded border border-gray-200 text-sm break-words max-h-48 overflow-y-auto","data-testid":"scanned-text-content",children:l})]})}),R.length>0&&R[0].extractedContent.length>1&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Extracted Components"}),t.jsx("div",{className:"space-y-2",children:R[0].extractedContent.map((r,d)=>t.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-gray-200",children:[t.jsx("span",{className:"text-sm text-gray-700 break-words flex-1","data-testid":`extracted-component-${d}`,children:r}),t.jsx(E,{onClick:()=>g(r),variant:"ghost",size:"sm","data-testid":`button-copy-component-${d}`,children:t.jsx("i",{className:"fas fa-copy"})})]},d))})]})]}),!l&&!i&&!a&&t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx("i",{className:"fas fa-qrcode text-4xl mb-4"}),t.jsx("p",{className:"text-lg",children:"Upload a QR code image to extract its text content"})]}),R.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recently Scanned QR Codes"}),t.jsx("div",{className:"space-y-3",children:R.slice(0,5).map((r,d)=>t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"text-sm text-gray-600 break-words mb-2","data-testid":`history-scanned-text-${d}`,children:[t.jsx("strong",{children:"Scanned:"}),' "',r.scannedText.length>100?r.scannedText.substring(0,100)+"...":r.scannedText,'"']}),t.jsx("div",{className:"text-xs text-gray-500",children:r.timestamp.toLocaleString()})]}),t.jsx("div",{className:"ml-4 flex gap-2",children:t.jsx(E,{onClick:()=>g(r.scannedText),variant:"ghost",size:"sm","data-testid":`button-copy-history-scanned-${d}`,children:t.jsx("i",{className:"fas fa-copy"})})})]})},d))})]})]})})})})})}),t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[t.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"What is QR Code Scanner?"}),t.jsxs("div",{className:"prose max-w-none",children:[t.jsxs("p",{className:"text-lg text-gray-700 mb-6",children:[t.jsx("strong",{children:"QR Code Scanner"})," is a powerful tool that reads QR codes from uploaded images and extracts their text content. It can automatically identify and separate URLs, email addresses, and other formatted text from the scanned data."]}),t.jsx("p",{className:"text-gray-700 mb-6",children:"Simply upload an image containing a QR code, and the scanner will decode it and present the content in an organized, readable format with options to copy individual components."})]})]}),t.jsxs("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Scanner Features"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-image mr-2 text-blue-600"}),"Multiple Image Formats"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Supports JPG, PNG, GIF, and WebP image formats"})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-search mr-2 text-green-600"}),"Smart Content Detection"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Automatically identifies URLs and email addresses"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-history mr-2 text-purple-600"}),"Scan History"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Keep track of recently scanned QR codes"})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-copy mr-2 text-orange-600"}),"Easy Copy Functions"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"One-click copying of extracted content"})]})]})]})]})]})]}),t.jsx(Q,{})]})};export{V as default};
